mle
stan_input
transformed_data
ex.fit
mle
library(EcoEnsemble)
library(ggplot2)
SSB_miz <- tibble::rownames_to_column(SSB_miz)
SSB_lm  <- tibble::rownames_to_column(SSB_lm)
SSB_fs  <- tibble::rownames_to_column(SSB_fs)
SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
?left_join()
SSB_miz
df <- full_join(SSB_obs[, 1:2], SSB_miz[, 1:2])
df
df <- full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname")
df
df <- full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz"))
df
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm, y="rowname", suffix=c("", "_lm"))
df
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm, by="rowname", suffix=c("", "_lm"))
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm[, 1:2], by="rowname", suffix=c("", "_lm"))
df
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
ggplot()
df
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, 1:2], by="rowname", suffix=c("", "_lm"))
df
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line()
class(df$Year)
int(df$Year)
class(df$Year)
df$Year <- int(df$Year)
df$Year
df$Year <- as.int(df$Year)
df$Year
as.integer(df$Year)
df$Year <- as.integer(df$Year)
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line()
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() + geom_line(aes(y="Mizer"))
gfdgfd
library(EcoEnsemble)
library(ggplot2)
SSB_miz <- tibble::rownames_to_column(SSB_miz)
SSB_lm  <- tibble::rownames_to_column(SSB_lm)
SSB_fs  <- tibble::rownames_to_column(SSB_fs)
SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, 1:2], by="rowname", suffix=c("", "_lm"))
df$Year <- as.integer(df$Year)
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() + geom_line(aes(y="Mizer"))
library(EcoEnsemble)
library(ggplot2)
SSB_miz <- tibble::rownames_to_column(SSB_miz)
SSB_lm  <- tibble::rownames_to_column(SSB_lm)
SSB_fs  <- tibble::rownames_to_column(SSB_fs)
SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, 1:2], by="rowname", suffix=c("", "_lm"))
df$Year <- as.integer(df$Year)
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() + geom_line(aes(y="Mizer"))
SSB_miz
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, 1:2], by="rowname", suffix=c("", "_lm"))
df$Year <- as.integer(df$Year)
df
as.integer(df$Year)
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() + geom_line(aes(y="Mizer"))
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() #+ geom_line(aes(y="Mizer"))
df
df$Year <- as.double(df$Year)
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() #+ geom_line(aes(y="Mizer"))
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() + geom_line(aes(y="Mizer"))
reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`Single-species`)) + geom_line() + geom_line(aes(y="Mizer"))
ggplot(df, aes(x=Year, y=`SSB`)) + geom_line() + geom_line(aes(y="Mizer"))
ggplot(df, aes(x=Year, y=`SSB`)) + geom_line()
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line()
df
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line()
df
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs[, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, 1:2], by="rowname", suffix=c("", "_lm"))
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
df$Year <- as.double(df$Year)
df
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
df
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line()
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal()
df <-
full_join(SSB_obs[, 1:2], SSB_miz[, 1:2], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm [, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs [, 1:2], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, 1:2], by="rowname", suffix=c("", "_lm"))
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
df$Year <- as.double(df$Year)
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal()
library(EcoEnsemble)
library(ggplot2)
spec <- 3
SSB_miz <- tibble::rownames_to_column(SSB_miz)
SSB_lm  <- tibble::rownames_to_column(SSB_lm)
SSB_fs  <- tibble::rownames_to_column(SSB_fs)
SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
df <-
full_join(SSB_obs[, c(1, spec)], SSB_miz[, c(1, spec)], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, c(1, spec)], by="rowname", suffix=c("", "_lm"))
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
df$Year <- as.double(df$Year)
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal()
spec <- 4
SSB_miz <- tibble::rownames_to_column(SSB_miz)
SSB_lm  <- tibble::rownames_to_column(SSB_lm)
SSB_fs  <- tibble::rownames_to_column(SSB_fs)
SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
df <-
full_join(SSB_obs[, c(1, spec)], SSB_miz[, c(1, spec)], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, c(1, spec)], by="rowname", suffix=c("", "_lm"))
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
df$Year <- as.double(df$Year)
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal()
library(EcoEnsemble)
library(ggplot2)
spec <- 2
#SSB_miz <- tibble::rownames_to_column(SSB_miz)
#SSB_lm  <- tibble::rownames_to_column(SSB_lm)
#SSB_fs  <- tibble::rownames_to_column(SSB_fs)
#SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
#SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
df <-
full_join(SSB_obs[, c(1, spec)], SSB_miz[, c(1, spec)], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, c(1, spec)], by="rowname", suffix=c("", "_lm"))
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
df$Year <- as.double(df$Year)
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal()
library(EcoEnsemble)
library(ggplot2)
spec <- 3
#SSB_miz <- tibble::rownames_to_column(SSB_miz)
#SSB_lm  <- tibble::rownames_to_column(SSB_lm)
#SSB_fs  <- tibble::rownames_to_column(SSB_fs)
#SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
#SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
df <-
full_join(SSB_obs[, c(1, spec)], SSB_miz[, c(1, spec)], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, c(1, spec)], by="rowname", suffix=c("", "_lm"))
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
df$Year <- as.double(df$Year)
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal()
library(EcoEnsemble)
library(ggplot2)
spec <- 4
#SSB_miz <- tibble::rownames_to_column(SSB_miz)
#SSB_lm  <- tibble::rownames_to_column(SSB_lm)
#SSB_fs  <- tibble::rownames_to_column(SSB_fs)
#SSB_ewe <- tibble::rownames_to_column(SSB_ewe)
#SSB_obs <- tibble::rownames_to_column(SSB_obs)
library(dplyr)
df <-
full_join(SSB_obs[, c(1, spec)], SSB_miz[, c(1, spec)], by="rowname", suffix=c("_obs", "_miz")) %>%
full_join(SSB_lm [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_fs [, c(1, spec)], by="rowname", suffix=c("", "_lm")) %>%
full_join(SSB_ewe[, c(1, spec)], by="rowname", suffix=c("", "_lm"))
colnames(df) <- c("Year", "Single-species", "Mizer", "LeMans", "FishSUMS", "EwE")
df$Year <- as.double(df$Year)
df <- reshape2::melt(df, id.vars = "Year")
colnames(df) <- c("Year", "Simulator", "SSB")
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal()
colnames(SSB_fs)
colnames(SSB_lm)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod")
c(Sigma_obs[spec - 1, spec-1])
vars_of_species <- c("Single-species" = Sigma_obs[spec - 1, spec-1],
"Mizer" = Sigma_miz[spec - 1, spec-1],
"LeMans" = Sigma_lm[spec - 1, spec-1],
"FishSUMS" = Sigma_fs[spec - 1, spec-1],
"EwE" = Sigma_ewe[spec - 1, spec-1])
vars_of_species
df$lower <- NA; df$upper <- NA
k <- 1
df[k, 2]
vars_of_species[df[k, 2]]
vars_of_species
sqrt(vars_of_species)
sd_of_species <- sqrt(vars_of_species)
sd_of_species[df[k, 2]]
k <- nrow(df)
sd_of_species[df[k, 2]]
df$lower[k]
df$lower <- NA; df$upper <- NA
for (k in 1:nrow(df)) {
df$lower[k] <- df$SSB[k] -  sd_of_species[df[k, 2]]
df$upper[k] <- df$SSB[k] +  sd_of_species[df[k, 2]]
}
df
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon()
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.5)
ggplot(df, aes(x=Year, y=`SSB`, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.5)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.25)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.25)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.25, aes(colour=NA))
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.25, colour=NA)
df$lower <- NA; df$upper <- NA
for (k in 1:nrow(df)) {
df$lower[k] <- df$SSB[k] -  3*sd_of_species[df[k, 2]]
df$upper[k] <- df$SSB[k] +  3*sd_of_species[df[k, 2]]
}
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.25, colour=NA)
df$lower <- NA; df$upper <- NA
for (k in 1:nrow(df)) {
df$lower[k] <- df$SSB[k] -  2*sd_of_species[df[k, 2]]
df$upper[k] <- df$SSB[k] +  2*sd_of_species[df[k, 2]]
}
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.25, colour=NA)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") #+ geom_ribbon(alpha=0.25, colour=NA)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator, size=1.25)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") #+ geom_ribbon(alpha=0.25, colour=NA)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator, size=1)) + geom_line() + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") #+ geom_ribbon(alpha=0.25, colour=NA)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line(size=2) + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") #+ geom_ribbon(alpha=0.25, colour=NA)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line(size=1.5) + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") #+ geom_ribbon(alpha=0.25, colour=NA)
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line(size=1.5) + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod") + geom_ribbon(alpha=0.25, colour=NA)
SSB_obs[, c)3]
SSB_obs[, spec]
SSB_obs[, spec] - SSB_ewe[, spec]
full_join(SSB_obs[, c(1, spec)], SSB_ewe[, c(1, spec)], by="rowname", suffix=c("_obs", "ewe"))
tmp[, 3] - tmp[, 2]
tmp <- full_join(SSB_obs[, c(1, spec)], SSB_ewe[, c(1, spec)], by="rowname", suffix=c("_obs", "ewe"))
tmp[, 3] - tmp[, 2]
plot.ts(tmp[, 3] - tmp[, 2])
df_sub <- df[df$Simulator %in% c("Single-species", "EwE"), ]
ggplot(df, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line(size=1.5) + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod")
ggplot(df_sub, aes(x=Year, y=`SSB`,colour=Simulator, ymin=lower, ymax=upper, fill=Simulator)) + geom_line(size=1.5) + theme_minimal() + ggtitle("Predictions for Spawning Stock Biomass of Cod")
df_disc <-  full_join(SSB_obs[, c(1, spec)], SSB_ewe[, c(1, spec)], by="rowname", suffix=c("_obs", "ewe"))
df_disc
df_disc$Discrepancy <- df_disc$Cod_obs - df_disc$Codewe
df_disc <- df_disc[, c(1, 4)]
df_disc
ggplot(df_disc, aes(x=Year, y=`Discrepancy`)) + geom_line(size=1.5) + theme_minimal()
df_disc
colnames(df_disc)[1] <- "Year"
ggplot(df_disc, aes(x=Year, y=`Discrepancy`)) + geom_line(size=1.5) + theme_minimal()
df_disc$Year <- as.double(df_disc$Year)
ggplot(df_disc, aes(x=Year, y=`Discrepancy`)) + geom_line(size=1.5) + theme_minimal()
ggplot(df_disc, aes(x=Year, y=`Discrepancy`)) + geom_line(size=1.5) + theme_minimal() +ggtitle("Discrepancy")
df_disc$Discrepancy <- df_disc$Codewe - df_disc$Cod_obs
df_disc <- df_disc[, c(1, 4)]
colnames(df_disc)[1] <- "Year"
df_disc$Year <- as.double(df_disc$Year)
ggplot(df_disc, aes(x=Year, y=`Discrepancy`)) + geom_line(size=1.5) + theme_minimal() +ggtitle("Discrepancy")
df_disc <-  full_join(SSB_obs[, c(1, spec)], SSB_ewe[, c(1, spec)], by="rowname", suffix=c("_obs", "ewe"))
df_disc$Discrepancy <- df_disc$Codewe - df_disc$Cod_obs
df_disc <- df_disc[, c(1, 4)]
colnames(df_disc)[1] <- "Year"
df_disc$Year <- as.double(df_disc$Year)
ggplot(df_disc, aes(x=Year, y=`Discrepancy`)) + geom_line(size=1.5) + theme_minimal() +ggtitle("Discrepancy")
?generate_sample
rm(ls())
rm(list=ls())
SSB_obs
View(SSB_obs)
# Available Data ----------------------------------------------------------
View(SSB_obs)
rm(list=ls())
library(EcoEnsemble)
ls()
SSB_obs
data("EcoEnsemble")
data("northseamsy")
force(SSB_obs)
rm(list=ls())
library(EcoEnsemble)
# Available Data ----------------------------------------------------------
data("northseamsy") #Loading in the dataset
force(SSB_obs)
force(Sigma_obs)
View(SSB_obs)
force(SSB_miz)
View(SSB_miz)
View(Sigma_obs)
force(Sigma_miz)
View(Sigma_miz)
rm(list=ls())
library(EcoEnsemble)
# Available Data ----------------------------------------------------------
data("northseamsy") #Loading in the dataset
ls()
?`EcoEnsemble-package`
num_species <- 4
priors <- EnsemblePrior(
d = num_species,
ind_st_params = list("lkj",  list(3, 2), 3),
ind_lt_params = list(
"beta",
list(c(10,4,8, 7),c(2,3,1, 4)),
list(matrix(5, num_species, num_species),
matrix(0.5, num_species, num_species))
),
sha_st_params = list("inv_wishart",list(2, 1/3),list(5, diag(num_species))),
sha_lt_params = 5,
truth_params = list(10, list(3, 3), list(10, diag(num_species)))
)
fit <- fit_ensemble_model(observations = list(SSB_obs, Sigma_obs),
simulators = list(list(SSB_ewe, Sigma_ewe, "EwE"),
list(SSB_fs,  Sigma_fs, "FishSUMS"),
list(SSB_lm,  Sigma_lm, "LeMans"),
list(SSB_miz, Sigma_miz, "Mizer")),
priors = priors)
priors <- EnsemblePrior(
d = num_species,
ind_st_params = list("hierarchical",  list(c(4,4,4,4),c(4,4,4,4)), 3),
ind_lt_params = list(
"beta",
list(c(10,4,8, 7),c(2,3,1, 4)),
list(matrix(5, num_species, num_species),
matrix(0.5, num_species, num_species))
),
sha_st_params = list("inv_wishart",list(2, 1/3),list(5, diag(num_species))),
sha_lt_params = 5
)
fit <- fit_ensemble_model(observations = list(SSB_obs, Sigma_obs),
simulators = list(list(SSB_ewe, Sigma_ewe, "EwE"),
list(SSB_fs,  Sigma_fs, "FishSUMS"),
list(SSB_lm,  Sigma_lm, "LeMans"),
list(SSB_miz, Sigma_miz, "Mizer")),
priors = priors)
fit
priors <- EnsemblePrior(
d = num_species,
ind_st_params = list("hierarchical",  list(c(4,4,4,4),c(4,4,4,4)), 3),
ind_lt_params = list(
"beta",
list(c(10,4,8, 7),c(2,3,1, 4)),
list(matrix(5, num_species, num_species),
matrix(0.5, num_species, num_species))
),
sha_st_params = list("inv_wishart",list(2, 1/3),list(5, diag(num_species))),
sha_lt_params = 5
)
fit <- fit_ensemble_model(observations = list(SSB_obs, Sigma_obs),
simulators = list(list(SSB_ewe, Sigma_ewe, "EwE"),
list(SSB_fs,  Sigma_fs, "FishSUMS"),
list(SSB_lm,  Sigma_lm, "LeMans"),
list(SSB_miz, Sigma_miz, "Mizer")),
priors = priors)
priors@priors_stan_input
# Priors ------------------------------------------------------------------
num_species <- 4
priors <- EnsemblePrior(
d = num_species,
ind_st_params = list("hierarchical", c(1, 1, 1, 1), c(1, 1, 1, 1)),
ind_lt_params = list(
"beta",
list(c(10,4,8, 7),c(2,3,1, 4)),
list(matrix(5, num_species, num_species),
matrix(0.5, num_species, num_species))
),
sha_st_params = list("inv_wishart",list(2, 1/3),list(5, diag(num_species))),
sha_lt_params = 5
)
fit <- fit_ensemble_model(observations = list(SSB_obs, Sigma_obs),
simulators = list(list(SSB_ewe, Sigma_ewe, "EwE"),
list(SSB_fs,  Sigma_fs, "FishSUMS"),
list(SSB_lm,  Sigma_lm, "LeMans"),
list(SSB_miz, Sigma_miz, "Mizer")),
priors = priors)
View(SSB_fs)
View(SSB_lm)
View(SSB_ewe)
priors <- EnsemblePrior(
d = num_species,
ind_st_params = list("hierarchical", c(1, 1, 1, 1), c(1, 1, 1, 1)),
ind_lt_params = list(
"beta",
list(c(10,4,8, 7),c(2,3,1, 4)),
list(matrix(5, num_species, num_species),
matrix(0.5, num_species, num_species))
),
sha_st_params = list("lkj",list(2, 1/3),list(10)),
sha_lt_params = 5
)
fit <- fit_ensemble_model(observations = list(SSB_obs, Sigma_obs),
simulators = list(list(SSB_ewe, Sigma_ewe, "EwE"),
list(SSB_fs,  Sigma_fs, "FishSUMS"),
list(SSB_lm,  Sigma_lm, "LeMans"),
list(SSB_miz, Sigma_miz, "Mizer")),
priors = priors)
# Set up and Installation -------------------------------------------------
#Install the latest version from the GitHub repo
#library(devtools)
#install_github("CefasRepRes/EcoEnsemble")
rm(list=ls())
library(EcoEnsemble)
# Available Data ----------------------------------------------------------
data("northseamsy") #Loading in the dataset
ls()
# Priors ------------------------------------------------------------------
num_species <- 4
priors <- EnsemblePrior(
d = num_species,
ind_st_params = list("hierarchical", c(1, 1, 1, 1), c(1, 1, 1, 1)),
ind_lt_params = list(
"beta",
list(c(10,4,8, 7),c(2,3,1, 4)),
list(matrix(5, num_species, num_species),
matrix(0.5, num_species, num_species))
),
sha_st_params = list("lkj",list(2, 1/3),list(10)),
sha_lt_params = 5
)
fit <- fit_ensemble_model(observations = list(SSB_obs, Sigma_obs),
simulators = list(list(SSB_ewe, Sigma_ewe, "EwE"),
list(SSB_fs,  Sigma_fs, "FishSUMS"),
list(SSB_lm,  Sigma_lm, "LeMans"),
list(SSB_miz, Sigma_miz, "Mizer")),
priors = priors)
priors <- EnsemblePrior(
d = num_species,
ind_st_params = list("hierarchical", c(1, 1, 1, 1), c(1, 1, 1, 1)),
ind_lt_params = list(
"beta",
list(c(10,4,8, 7),c(2,3,1, 4)),
list(matrix(5, num_species, num_species),
matrix(0.5, num_species, num_species))
),
sha_st_params = list("lkj",list(2, 1/3),10),
sha_lt_params = 5
)
fit <- fit_ensemble_model(observations = list(SSB_obs, Sigma_obs),
simulators = list(list(SSB_ewe, Sigma_ewe, "EwE"),
list(SSB_fs,  Sigma_fs, "FishSUMS"),
list(SSB_lm,  Sigma_lm, "LeMans"),
list(SSB_miz, Sigma_miz, "Mizer")),
priors = priors)
?EnsemblePrior
# Available Data ----------------------------------------------------------
data("northseamsy") #Loading in the dataset
ls()
# Priors ------------------------------------------------------------------
?EnsemblePrior
prior_ensemble_model(priors, M = 4)
options(mc.cores = parallel::detectCores())
prior_ensemble_model(priors, M = 4)
load("initial_run.RData")
load("initial_run.RData")
?getwd()
getwd()
